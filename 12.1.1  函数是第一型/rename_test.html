<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>test</title>
<script type="text/javascript">


//【示例】下面是一个为数组扩展的方法，为数组内每个元素应用指定的函数运算。
Array.prototype.each = function(f){		// 扩展数组方法
    if(this.length){ 			// 如果指定了参数值，则执行如下命令
        var a = f(this.slice(0,1)) 
        // 获取数组第一个元素值，并调用函数来计算
        var b = this.slice(1); 	// 获取指定数组的第一个后面所有元素值
        var c = [a].concat(b.each(f)) 
		// 定义a为新数组元素，并利用递归运算逐个把后面所有元素都进行一次函数计算，然后连接到新数组中
        return c; 			// 返回新的数组c
    }else{
        return [];			// 返回空数组
    }
}
var a = [1,2,3,4]; 			// 新建数组
var f = function(x){ 		// 定义数组元素计算函数
    return x*x;
}
alert(a.each(f)); 			// 为数组调用新扩展方法，并把计算函数作为参数传入

Array.prototype.each = function( f ){ 		// 定义数组对象扩展方法表达式
    return this.length ? [f( this.slice( 0, 1 ) )].
concat( this.slice( 1 ).each( f ) ) : [];
}
alert( [1, 2, 3, 4].each(					// 调用数组对象扩展方法表达式
    function( x ){
        return x * x;
    })
);



</script>
<body>
</body>
</html>
