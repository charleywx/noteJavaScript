<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>test</title>
<script type="text/javascript">


var a = [1,2,3]; 					// 定义并初始化数组
for(i in a){ 						// 遍历数组
    a[i] = function(){
	// 通过闭包改变数组元素的值，使每个数组元素的值为该元素下标的平方值。
        return i*i;
    }
}
alert(a[0]()); 						// 返回4
alert(a[1]()); 						// 返回4
alert(a[2]()); 						// 返回4

alert(a[0]===a[1])				 	// 返回false，说明它们为不同的函数实例
alert(a[1]===a[2]) 					// 返回false，说明它们为不同的函数实例
alert(a[0]===a[2])				 	// 返回false，说明它们为不同的函数实例

for(i in a){
    a[i] = i*i; 					// 直接表达式赋值
}

for(i in o){
    o[i].onclick = function(){ }	// 在事件属性赋值中，必须使用闭包函数
}

var a = [1,2,3];
for(i in a){
    a[i] = function(i){ 			// 包裹闭包体的带参数函数
        return function(){			// 返回闭包体
            return i*i;
        }
    }(i) 							// 把局部变量传递给函数
}
alert(a[0]()); 						// 返回0
alert(a[1]()); 						// 返回1
alert(a[2]()); 						// 返回4
alert(a[0]===a[1]) 					// 返回false，说明它们为不同的函数实例
alert(a[1]===a[2])				 	// 返回false，说明它们为不同的函数实例
alert(a[0]===a[2]) 					// 返回false，说明它们为不同的函数实例

var a = [1,2,3];
for(i in a){
    a[i] = function(){						// 定义匿名函数
        var i = arguments.callee.value; 	// 获取匿名函数的属性value值
         return i*i; 			// 设置匿名函数的返回值
    }
    a[i].value = i; 			// 设置匿名函数的属性value值为局部变量i
}
alert(a[0]()); 					// 返回0
alert(a[1]()); 					// 返回1
alert(a[2]()); 					// 返回4
alert(a[0]===a[1]) 				// 返回false，说明它们为不同的函数实例
alert(a[1]===a[2]) 				// 返回false，说明它们为不同的函数实例
alert(a[0]===a[2]) 				// 返回false，说明它们为不同的函数实例

</script>
<body>
</body>
</html>
