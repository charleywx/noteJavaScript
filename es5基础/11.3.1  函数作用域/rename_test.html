<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>test</title>
<script type="text/javascript">

//【示例1】为了理解顶级作用域和局部作用域异同，下面看一个示例。
var n = 1; 							// 全局变量，作用域为当前文档
function f(){
    var n = 2; 						// 局部变量，作用域仅限于函数体内
    function e(){					// 使用function语句定义的函数结构体
        return n; 					// 检测变量n到底返回什么值
    }
    return e; 						// 返回函数结构
}
alert(f()());						// 返回2，调用函数f的返回函数e

//【示例2】如果使用函数直接量定义函数e，当调用该返回函数时，返回的值是2，而不是1，也说明函数直接量定义的函数拥有局部作用域。
var n = 1; 							// 全局变量，作用域为当前文档
function f(){
    var n = 2; 						// 局部变量，作用域仅限于函数体内
    var e = function(){				// 使用函数直接量定义的函数结构体
        return n; 					// 检测变量n到底返回什么值
    }
    return e; 						// 返回函数结构
}
alert(f()());						// 返回2，调用函数f的返回函数e

//【示例3】如果使用Function构造函数定义函数e，则调用该返回函数时，返回的值是1，而不是2了，因为Function构造函数定义的函数作用域需要动态确定，而不是在定义函数时确定的，所以具有全局作用域。
var n = 1; 							// 全局变量，作用域为当前文档
function f(){
    var n = 2; 						// 局部变量，作用域仅限于函数体内
    var e = new Function("return n;"); 	
		// 使用Function构造函数定义的函数结构体
    return e; 						// 返回函数结构
}
alert(f()());						// 返回1，调用函数f的返回函数e


</script>
</head>

<body>
</body>
</html>
